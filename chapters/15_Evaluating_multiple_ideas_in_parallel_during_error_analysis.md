## 15 Evaluating multiple ideas in parallel during error analysis

당신과 당신의 팀이 고양이 분류 알고리즘을 향상하기 위해, 다음과 같은 몇가지 아이디어가 있을 수 있다.

**- 강아지를 고양이로 인식하는 알고리즘의 문제점을 고치는 것**

**- 거대한 고양이 (사자, 팬서, 등등..)을 애왕용 집고양이로 인식하는 알고리즘의 문제점을 고치는 것**

**- 흐릿한 이미지에 대하여 시스템 성능을 향상 시키는 것**

**- ...**

위에 나열된 모든 아이디어를 동시에 효율적으로 평가해 볼 수 있을 것이다. 나는 보통 100개 까지의 잘못 분류된 개발 데이터셋을 보면서, 그 예제 데이터를 스프레드 시트에 기록하곤 한다. 그리고 특정 중요한 예제에 대해서 몇가지 코멘트를 남기기도 한다. 이 과정을 설명하기 위해서, 4개의 예제 데이터로 구성된 작은 개발 데이터셋에 대한 스프레드 시트를 한번 살펴 보자.   

<div style="text-align=center">
  <img src="../img/15_1.PNG"/>
</div>

위의 스프레드 시트에서, 3번째 이미지는 거대한 고양이와 흐릿함 이라는 컬럼이 체크되어 있다. 또한, 하나의 예제 이미지가 여러기의 카테고리와 연관될 수 있기 때문에, 스프레드 시트의 마지막 라인의 합산된 퍼센트값이 100%가 아니게 될 수 있다.

현실적으로 (강아지, 큰 고양이, 흐릿함) 이라는 카테고리를 먼저 구성 한 후에, 예제 이미지들을 손으로 분류해 볼 수 있을지 모르지만, 일단 그 예제 이미지를 보기 시작하면 아마도 새로운 에러 종류의 카테고리를 추가적으로 제안하게 될 가능성이 크다. 예를 들어서, 12장의 이미지를 관찰하다가 인스타그램 필터가 적용된 사진들에 대해서 많은 실수가 발생했다는 것을 알게 될 지도 모른다. 이러한 경우, 다시 처음으로 돌아가서, "인스타그램" 이라는 새로운 컬럼을 스프레드 시트에 추가할 수 있겠다. 알고리즘이 잘못 분류한 예제 이미지를 일일이 수동적으로 관찰하고, 사람이라면 그 사진을 어떻게 제대로 레이블링 할 수 있는지 질문해 보는 것이 새로운 종류의 카테고리를 생각해 낼 수 있게 해주고 그에대한 해결책도 찾을 수 있게 해 준다.

가장 도움이 되는 에러 카테고리는 성능을 향상 시킬 수 있는 어떤 아이디어가 이미 있는 것이 될 수 있다. 예를 들어서, 인스타그램 카테고리는 인스타그램 필터가 적용된 사진을 원본으로 되돌릴 수 있는 방법을 알고 있는 경우, 추가하면 큰 도움이 되는 카테고리라고 볼 수 있다. 하지만 어떻게 성능을 향상 시킬 수 있는지 아는 것만 에러 카테고리로서 추가해야 한다고 스스로를 제한하지는 말자. 이 과정의 목표는 내가 지금 가지고 있는 포커스를 맞춰야 하는 가장 유망한 부분에 대한 직관력을 키우는 것이다.

에러 분석은 반복적인 작업이다. 어떤 카테고리를 사용해야 하는지 생각나는 것이 없더라도 걱정하지는 말자. 몇몇 예제 이미지를 관찰 하고 나면, 에러 카테고리에 대한 몇가지 아이디어를 얻게 될 것이다. 몇몇 예제 이미지를 수작업으로 각 카테고리에 맞게 분류한 후, 새로운 카테고리를 설정하고 그 예제 이미지들을 새로운 카테고리의 기준에 맞추어 다시 생각해 보게도 된다. 이런 식으로 카테고리에 대한 아이디어를 얻어 나갈 수 있다.

100개의 잘못 분류된 개발 데이터셋의 예제 이미지에 대한 에러 분석을 끝냈고, 다음과 같은 결과를 얻었다고 가정해 보자.

<div style="text-align=center">
  <img src="../img/15_2.PNG"/>
</div>

이런 결과를 얻고 나면, 강아지 이미지로 인해서 실수가 발생한 것을 개선하기 위해 프로젝트를 진행 했을때, 최대 8%의 에러를 제거(개선) 가능 하다는 것을 알 수 있다. 거대한 고양이 또는 흐릿한 이미지에 대한 에러에 대한 개선은 강아지 이미지로 인한 에러의 개선보다 더 많은 에러의 개선에 도움을 줄 수 있다. 그러므로, 후자로 언급된 두 가지의 카테고리에 좀더 포커스를 맞추어 프로젝트를 진행하자는 결정을 내릴 수도 있게 된다. 만약 당신의 팀이 많은 사람으로 구성되어, 동시에 여러가지 방향을 시도해볼 수 있다면, 몇몇 엔지니어에게는 거대한 고양이에 관련된 에러를, 그리고 또 몇몇 엔지니어에게는 흐릿한 이미지에 관련된 에러를 개선하도록 요청할 수도 있겠다. 

에러 분석에서 가장 높은 우선순위가 무엇인지 바로 알 수 있는 어떤 엄격한 수학적인 공식이 존재하여 것은 아니다. 각각 서로다른 카테고리에 대해서 얼마나 많은 진척을 이뤄 낼 수 있는지, 그리고 얼마나 많은 시간이 각각에 대하여 필요한지를 생각해야만 할 것이다.